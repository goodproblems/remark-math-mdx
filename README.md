# Remark MDX math enhanced

> An MDX plugin to transform math nodes generated by [remark-math\(https://github.com/remarkjs/remark-math) intoo JSX element nodes which render math at run time (likely using Katex)

The main advantage of this plugin over `rehype-katex` is that it supports JS expressions inside of math environemnts, similar to how MDX supports JS expressions inside of `{...}`. This allows for dynamic math expressions which depend on props, etc

üö® **Important** this package is very new and is being developed, probably shouldn't use it in your app quite yet

**Note** this plugin expects math to be rendered at run time inside of a React component instead of at compile time like rehype-katex. This means user's browsers have to do more work and should be used only when dynamic math (i.e. math with JS expressions inside) is required.

## Install

Install with npm `npm install remark-mdx-math-enhanced`

## Use 

‚ùóÔ∏è **TODO!** Double check this example works!!!

Say we have the following .mdx file where we want to render some Katex with a generated value of pi

```mdx
export const pi = Math.PI

$\pi = \js{pi}$
```

And an MDX setup something like this

```js
import { readFileSync } from 'fs'

import remarkMath from 'remark-math'
import remarkMdxEnhanced from 'remark-mdx-math-enhanced'
import { compileSync } from '@mdx-js/mdx'

const { contents } = compileSync(readFileSync('example.mdx'), {
  remarkPlugins: [remarkMath, [remarkMdxEnhanced, { component: 'Katex' }]]
})

console.log(contents)
```

Will result in something like

```mdx

export const pi = Math.PI

export default function MDXContent() {
  return <Katex>{String.raw`\pi = ${pi}`}</Katex>
}
```

Note how `\js{pi}` has been replaced by `${pi}` which is a valid [string interpolation placeholder](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals#string_interpolation)

‚ùóÔ∏è **TODO** Document how to customize expression pattern

For an example implementation of a `<Katex/>` component see `examples/Katex.js`

## API

‚ùóÔ∏èÔ∏è **TODO!**

